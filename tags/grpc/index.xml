<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>grpc on zhangzw</title>
    <link>https://blog.k1s.club/tags/grpc/</link>
    <description>Recent content in grpc on zhangzw</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-hans</language>
    <copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright>
    <lastBuildDate>Sat, 20 Oct 2018 12:00:00 +0000</lastBuildDate><atom:link href="https://blog.k1s.club/tags/grpc/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ã€Œè¿è½½åã€åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª gRPC &#43; Opentracing &#43; Zipkin</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-20-zipkin/</link>
      <pubDate>Sat, 20 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-20-zipkin/</guid>
      <description>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ åšäº†é‚£ä¹ˆå¤š Server ç«¯ï¼Œå†™äº† N ä¸ª RPC æ–¹æ³•ã€‚æƒ³çœ‹çœ‹æ–¹æ³•çš„æŒ‡æ ‡ï¼Œå´æ— å¤„ä¸‹æ‰‹ï¼Ÿ
æœ¬æ–‡å°†é€šè¿‡ gRPC + Opentracing + Zipkin æ­å»ºä¸€ä¸ªåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»Ÿæ¥å®ç°æŸ¥çœ‹æ•´ä¸ªç³»ç»Ÿçš„é“¾è·¯ã€æ€§èƒ½ç­‰æŒ‡æ ‡ã€‚
Opentracing æ˜¯ä»€ä¹ˆ OpenTracing é€šè¿‡æä¾›å¹³å°æ— å…³ã€å‚å•†æ— å…³çš„APIï¼Œä½¿å¾—å¼€å‘äººå‘˜èƒ½å¤Ÿæ–¹ä¾¿çš„æ·»åŠ ï¼ˆæˆ–æ›´æ¢ï¼‰è¿½è¸ªç³»ç»Ÿçš„å®ç°
ä¸è¿‡ OpenTracing å¹¶ä¸æ˜¯æ ‡å‡†ã€‚å› ä¸º CNCF ä¸æ˜¯å®˜æ–¹æ ‡å‡†æœºæ„ï¼Œä½†æ˜¯å®ƒçš„ç›®æ ‡æ˜¯è‡´åŠ›ä¸ºåˆ†å¸ƒå¼è¿½è¸ªåˆ›å»ºæ›´æ ‡å‡†çš„ API å’Œå·¥å…·
åè¯è§£é‡Š Trace ä¸€ä¸ª trace ä»£è¡¨äº†ä¸€ä¸ªäº‹åŠ¡æˆ–è€…æµç¨‹åœ¨ï¼ˆåˆ†å¸ƒå¼ï¼‰ç³»ç»Ÿä¸­çš„æ‰§è¡Œè¿‡ç¨‹
Span ä¸€ä¸ª span ä»£è¡¨åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®Œæˆçš„å•ä¸ªå·¥ä½œå•å…ƒã€‚ä¹ŸåŒ…å«å…¶ä»– span çš„ â€œå¼•ç”¨â€ï¼Œè¿™å…è®¸å°†å¤šä¸ª spans ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„ Trace
æ¯ä¸ª span æ ¹æ® OpenTracing è§„èŒƒå°è£…ä»¥ä¸‹å†…å®¹ï¼š
 æ“ä½œåç§° å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ key:value span Tags key:value span Logs SpanContext  Tags Span tagsï¼ˆè·¨åº¦æ ‡ç­¾ï¼‰å¯ä»¥ç†è§£ä¸ºç”¨æˆ·è‡ªå®šä¹‰çš„ Span æ³¨é‡Šã€‚ä¾¿äºæŸ¥è¯¢ã€è¿‡æ»¤å’Œç†è§£è·Ÿè¸ªæ•°æ®
Logs Span logsï¼ˆè·¨åº¦æ—¥å¿—ï¼‰å¯ä»¥è®°å½• Span å†…ç‰¹å®šæ—¶é—´æˆ–äº‹ä»¶çš„æ—¥å¿—ä¿¡æ¯ã€‚ä¸»è¦ç”¨äºæ•è·ç‰¹å®š Span çš„æ—¥å¿—ä¿¡æ¯ä»¥åŠåº”ç”¨ç¨‹åºæœ¬èº«çš„å…¶ä»–è°ƒè¯•æˆ–ä¿¡æ¯è¾“å‡º
SpanContext SpanContext ä»£è¡¨è·¨è¶Šè¿›ç¨‹è¾¹ç•Œï¼Œä¼ é€’åˆ°å­çº§ Span çš„çŠ¶æ€ã€‚å¸¸åœ¨è¿½è¸ªç¤ºæ„å›¾ä¸­åˆ›å»ºä¸Šä¸‹æ–‡æ—¶ä½¿ç”¨</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½ä¹ã€gRPC Deadlines</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-16-deadlines/</link>
      <pubDate>Tue, 16 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-16-deadlines/</guid>
      <description>å‰è¨€ åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œå·²ç»ä»‹ç»äº† gRPC çš„åŸºæœ¬ç”¨æ³•ã€‚é‚£ä½ æƒ³æƒ³ï¼Œè®©å®ƒè¿™ä¹ˆè£¸è·‘çœŸçš„æ²¡é—®é¢˜å—ï¼Ÿ
é‚£ä¹ˆï¼Œè‚¯å®šæ˜¯æœ‰é—®é¢˜äº†ã€‚ä»Šå¤©å°†ä»‹ç» gRPC Deadlines çš„ç”¨æ³•ï¼Œè¿™ä¸€ä¸ªå¿…å¤‡æŠ€å·§ã€‚å†…å®¹ä¹Ÿæ¯”è¾ƒç®€å•
Deadlines Deadlines æ„æŒ‡æˆªæ­¢æ—¶é—´ï¼Œåœ¨ gRPC ä¸­å¼ºè°ƒ TL;DRï¼ˆToo long, Don&amp;rsquo;t readï¼‰å¹¶å»ºè®®å§‹ç»ˆè®¾å®šæˆªæ­¢æ—¥æœŸï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ
ä¸ºä»€ä¹ˆè¦è®¾ç½® å½“æœªè®¾ç½® Deadlines æ—¶ï¼Œå°†é‡‡ç”¨é»˜è®¤çš„ DEADLINE_EXCEEDEDï¼ˆè¿™ä¸ªæ—¶é—´éå¸¸å¤§ï¼‰
å¦‚æœäº§ç”Ÿäº†é˜»å¡ç­‰å¾…ï¼Œå°±ä¼šé€ æˆå¤§é‡æ­£åœ¨è¿›è¡Œçš„è¯·æ±‚éƒ½ä¼šè¢«ä¿ç•™ï¼Œå¹¶ä¸”æ‰€æœ‰è¯·æ±‚éƒ½æœ‰å¯èƒ½è¾¾åˆ°æœ€å¤§è¶…æ—¶
è¿™ä¼šä½¿æœåŠ¡é¢ä¸´èµ„æºè€—å°½çš„é£é™©ï¼Œä¾‹å¦‚å†…å­˜ï¼Œè¿™ä¼šå¢åŠ æœåŠ¡çš„å»¶è¿Ÿï¼Œæˆ–è€…åœ¨æœ€åçš„æƒ…å†µä¸‹å¯èƒ½å¯¼è‡´æ•´ä¸ªè¿›ç¨‹å´©æºƒ
gRPC Client func main() { ... ctx, cancel := context.WithDeadline(context.Background(), time.Now().Add(time.Duration(5 * time.Second))) defer cancel() client := pb.NewSearchServiceClient(conn) resp, err := client.Search(ctx, &amp;amp;pb.SearchRequest{ Request: &amp;quot;gRPC&amp;quot;, }) if err != nil { statusErr, ok := status.FromError(err) if ok { if statusErr.Code() == codes.DeadlineExceeded { log.Fatalln(&amp;quot;client.Search err: deadline&amp;quot;) } } log.</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½å…«ã€å¯¹ RPC æ–¹æ³•åšè‡ªå®šä¹‰è®¤è¯</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-14-per-rpc-credentials/</link>
      <pubDate>Sun, 14 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-14-per-rpc-credentials/</guid>
      <description>å‰è¨€ åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸¤ç§ï¼ˆè¯ä¹¦ç®—ä¸€ç§ï¼‰å¯å…¨å±€è®¤è¯çš„æ–¹æ³•ï¼š
 TLS è¯ä¹¦è®¤è¯ åŸºäº CA çš„ TLS è¯ä¹¦è®¤è¯ Unary and Stream interceptor  è€Œåœ¨å®é™…éœ€æ±‚ä¸­ï¼Œå¸¸å¸¸ä¼šå¯¹æŸäº›æ¨¡å—çš„ RPC æ–¹æ³•åšç‰¹æ®Šè®¤è¯æˆ–æ ¡éªŒã€‚ä»Šå¤©å°†ä¼šè®²è§£ã€å®ç°è¿™å—çš„åŠŸèƒ½ç‚¹
è¯¾å‰çŸ¥è¯† type PerRPCCredentials interface { GetRequestMetadata(ctx context.Context, uri ...string) (map[string]string, error) RequireTransportSecurity() bool } åœ¨ gRPC ä¸­é»˜è®¤å®šä¹‰äº† PerRPCCredentialsï¼Œå®ƒå°±æ˜¯æœ¬ç« èŠ‚çš„ä¸»è§’ï¼Œæ˜¯ gRPC é»˜è®¤æä¾›ç”¨äºè‡ªå®šä¹‰è®¤è¯çš„æ¥å£ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†æ‰€éœ€çš„å®‰å…¨è®¤è¯ä¿¡æ¯æ·»åŠ åˆ°æ¯ä¸ª RPC æ–¹æ³•çš„ä¸Šä¸‹æ–‡ä¸­ã€‚å…¶åŒ…å« 2 ä¸ªæ–¹æ³•ï¼š
 GetRequestMetadataï¼šè·å–å½“å‰è¯·æ±‚è®¤è¯æ‰€éœ€çš„å…ƒæ•°æ®ï¼ˆmetadataï¼‰ RequireTransportSecurityï¼šæ˜¯å¦éœ€è¦åŸºäº TLS è®¤è¯è¿›è¡Œå®‰å…¨ä¼ è¾“  ç›®å½•ç»“æ„ æ–°å»º simple_token_server/server.go å’Œ simple_token_client/client.goï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š
go-grpc-example â”œâ”€â”€ client â”‚Â â”œâ”€â”€ simple_client â”‚Â â”œâ”€â”€ simple_http_client â”‚Â â”œâ”€â”€ simple_token_client â”‚Â â””â”€â”€ stream_client â”œâ”€â”€ conf â”œâ”€â”€ pkg â”œâ”€â”€ proto â”œâ”€â”€ server â”‚Â â”œâ”€â”€ simple_http_server â”‚Â â”œâ”€â”€ simple_server â”‚Â â”œâ”€â”€ simple_token_server â”‚Â â””â”€â”€ stream_server â””â”€â”€ vendor gRPC Client package main import ( &amp;quot;context&amp;quot; &amp;quot;log&amp;quot; &amp;quot;google.</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½ä¸ƒã€è®©ä½ çš„æœåŠ¡åŒæ—¶æä¾› HTTP æ¥å£</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-12-grpc-http/</link>
      <pubDate>Fri, 12 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-12-grpc-http/</guid>
      <description>å‰è¨€   æ¥å£éœ€è¦æä¾›ç»™å…¶ä»–ä¸šåŠ¡ç»„è®¿é—®ï¼Œä½†æ˜¯ RPC åè®®ä¸åŒæ— æ³•å†…è°ƒï¼Œå¯¹æ–¹é—®èƒ½å¦èµ° HTTP æ¥å£ï¼Œæ€ä¹ˆåŠï¼Ÿ
  å¾®ä¿¡ï¼ˆå…¬ä¼—å·ã€å°ç¨‹åºï¼‰ç­‰ç¬¬ä¸‰æ–¹å›è°ƒæ¥å£åªæ”¯æŒ HTTP æ¥å£ï¼Œæ€ä¹ˆåŠ
  æˆ‘ç›¸ä¿¡ä½ åœ¨å®é™…å·¥ä½œä¸­éƒ½ä¼šé‡åˆ°å¦‚ä¸Šé—®é¢˜ï¼Œåœ¨ gRPC ä¸­éƒ½æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ï¼Œæœ¬ç« èŠ‚å°†ä¼šè¿›è¡Œä»‹ç» ğŸ¤”
ä¸ºä»€ä¹ˆå¯ä»¥åŒæ—¶æä¾› HTTP æ¥å£ å…³é”®ä¸€ç‚¹ï¼ŒgRPC çš„åè®®æ˜¯åŸºäº HTTP/2 çš„ï¼Œå› æ­¤åº”ç”¨ç¨‹åºèƒ½å¤Ÿåœ¨å•ä¸ª TCP ç«¯å£ä¸Šæä¾› HTTP/1.1 å’Œ gRPC æ¥å£æœåŠ¡ï¼ˆä¸¤ç§ä¸åŒçš„æµé‡ï¼‰
æ€ä¹ˆåŒæ—¶æä¾› HTTP æ¥å£ æ£€æµ‹åè®® if r.ProtoMajor == 2 &amp;amp;&amp;amp; strings.Contains(r.Header.Get(&amp;quot;Content-Type&amp;quot;), &amp;quot;application/grpc&amp;quot;) { server.ServeHTTP(w, r) } else { mux.ServeHTTP(w, r) } æµç¨‹  æ£€æµ‹è¯·æ±‚åè®®æ˜¯å¦ä¸º HTTP/2 åˆ¤æ–­ Content-Type æ˜¯å¦ä¸º application/grpcï¼ˆgRPC çš„é»˜è®¤æ ‡è¯†ä½ï¼‰ æ ¹æ®åè®®çš„ä¸åŒè½¬å‘åˆ°ä¸åŒçš„æœåŠ¡å¤„ç†  gRPC TLS åœ¨å‰é¢çš„ç« èŠ‚ï¼Œä¸ºäº†ä¾¿äºå±•ç¤ºå› æ­¤æ²¡æœ‰ç®€å•å°è£…
åœ¨æœ¬èŠ‚éœ€å¤ç”¨ä»£ç ï¼Œé‡æ–°å°è£…äº†ï¼Œå¯è¯¦è§ï¼šgo-grpc-example
ç›®å½•ç»“æ„ æ–°å»º simple_http_clientã€simple_http_server ç›®å½•ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½å…­ã€Unary and Stream interceptor</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-10-interceptor/</link>
      <pubDate>Wed, 10 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-10-interceptor/</guid>
      <description>å‰è¨€ æˆ‘æƒ³åœ¨æ¯ä¸ª RPC æ–¹æ³•çš„å‰æˆ–ååšæŸäº›äº‹æƒ…ï¼Œæ€ä¹ˆåšï¼Ÿ
æœ¬ç« èŠ‚å°†è¦ä»‹ç»çš„æ‹¦æˆªå™¨ï¼ˆinterceptorï¼‰ï¼Œå°±èƒ½å¸®ä½ åœ¨åˆé€‚çš„åœ°æ–¹å®ç°è¿™äº›åŠŸèƒ½ã€‚
æœ‰å‡ ç§æ–¹æ³• åœ¨ gRPC ä¸­ï¼Œå¤§ç±»å¯åˆ†ä¸ºä¸¤ç§ RPC æ–¹æ³•ï¼Œä¸æ‹¦æˆªå™¨çš„å¯¹åº”å…³ç³»æ˜¯ï¼š
 æ™®é€šæ–¹æ³•ï¼šä¸€å…ƒæ‹¦æˆªå™¨ï¼ˆgrpc.UnaryInterceptorï¼‰ æµæ–¹æ³•ï¼šæµæ‹¦æˆªå™¨ï¼ˆgrpc.StreamInterceptorï¼‰  çœ‹ä¸€çœ‹ grpc.UnaryInterceptor func UnaryInterceptor(i UnaryServerInterceptor) ServerOption { return func(o *options) { if o.unaryInt != nil { panic(&amp;quot;The unary server interceptor was already set and may not be reset.&amp;quot;) } o.unaryInt = i } } å‡½æ•°åŸå‹ï¼š
type UnaryServerInterceptor func(ctx context.Context, req interface{}, info *UnaryServerInfo, handler UnaryHandler) (resp interface{}, err error) é€šè¿‡æŸ¥çœ‹æºç å¯å¾—çŸ¥ï¼Œè¦å®Œæˆä¸€ä¸ªæ‹¦æˆªå™¨éœ€è¦å®ç° UnaryServerInterceptor æ–¹æ³•ã€‚å½¢å‚å¦‚ä¸‹ï¼š
 ctx context.Contextï¼šè¯·æ±‚ä¸Šä¸‹æ–‡ req interface{}ï¼šRPC æ–¹æ³•çš„è¯·æ±‚å‚æ•° info *UnaryServerInfoï¼šRPC æ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯ handler UnaryHandlerï¼šRPC æ–¹æ³•æœ¬èº«  grpc.</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½äº”ã€åŸºäº CA çš„ TLS è¯ä¹¦è®¤è¯</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-08-ca-tls/</link>
      <pubDate>Mon, 08 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-08-ca-tls/</guid>
      <description>å‰è¨€ åœ¨ä¸Šä¸€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªé—®é¢˜ã€‚å°±æ˜¯å¦‚ä½•ä¿è¯è¯ä¹¦çš„å¯é æ€§å’Œæœ‰æ•ˆæ€§ï¼Ÿä½ å¦‚ä½•ç¡®å®šä½  Serverã€Client çš„è¯ä¹¦æ˜¯å¯¹çš„å‘¢ï¼Ÿ
CA ä¸ºäº†ä¿è¯è¯ä¹¦çš„å¯é æ€§å’Œæœ‰æ•ˆæ€§ï¼Œåœ¨è¿™é‡Œå¯å¼•å…¥ CA é¢å‘çš„æ ¹è¯ä¹¦çš„æ¦‚å¿µã€‚å…¶éµå®ˆ X.509 æ ‡å‡†
æ ¹è¯ä¹¦ æ ¹è¯ä¹¦ï¼ˆroot certificateï¼‰æ˜¯å±äºæ ¹è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰çš„å…¬é’¥è¯ä¹¦ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡éªŒè¯ CA çš„ç­¾åä»è€Œä¿¡ä»» CA ï¼Œä»»ä½•äººéƒ½å¯ä»¥å¾—åˆ° CA çš„è¯ä¹¦ï¼ˆå«å…¬é’¥ï¼‰ï¼Œç”¨ä»¥éªŒè¯å®ƒæ‰€ç­¾å‘çš„è¯ä¹¦ï¼ˆå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ï¼‰
å®ƒåŒ…å«çš„æ–‡ä»¶å¦‚ä¸‹ï¼š
 å…¬é’¥ å¯†é’¥  ç”Ÿæˆ Key openssl genrsa -out ca.key 2048 ç”Ÿæˆå¯†é’¥ openssl req -new -x509 -days 7200 -key ca.key -out ca.pem å¡«å†™ä¿¡æ¯ Country Name (2 letter code) []: State or Province Name (full name) []: Locality Name (eg, city) []: Organization Name (eg, company) []: Organizational Unit Name (eg, section) []: Common Name (eg, fully qualified host name) []:go-grpc-example Email Address []: Server ç”Ÿæˆ CSR openssl req -new -key server.</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½å››ã€TLS è¯ä¹¦è®¤è¯</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-10-07-grpc-tls/</link>
      <pubDate>Sun, 07 Oct 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-10-07-grpc-tls/</guid>
      <description>å‰è¨€ åœ¨å‰é¢çš„ç« èŠ‚é‡Œï¼Œæˆ‘ä»¬ä»‹ç»äº† gRPC çš„å››ç§ API ä½¿ç”¨æ–¹å¼ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ ğŸ˜€
æ­¤æ—¶å­˜åœ¨ä¸€ä¸ªå®‰å…¨é—®é¢˜ï¼Œå…ˆå‰çš„ä¾‹å­ä¸­ gRPC Client/Server éƒ½æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œä¼šä¸ä¼šæœ‰è¢«çªƒå¬çš„é£é™©å‘¢ï¼Ÿ
ä»ç»“è®ºä¸Šæ¥è®²ï¼Œæ˜¯æœ‰çš„ã€‚åœ¨æ˜æ–‡é€šè®¯çš„æƒ…å†µä¸‹ï¼Œä½ çš„è¯·æ±‚å°±æ˜¯è£¸å¥”çš„ï¼Œæœ‰å¯èƒ½è¢«ç¬¬ä¸‰æ–¹æ¶æ„ç¯¡æ”¹æˆ–è€…ä¼ªé€ ä¸ºâ€œéæ³•â€çš„æ•°æ®
æŠ“ä¸ªåŒ… å—¯ï¼Œæ˜æ–‡ä¼ è¾“æ— è¯¯ã€‚è¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œæ¥ä¸‹å°†æ”¹é€ æˆ‘ä»¬çš„ gRPCï¼Œä»¥ä¾¿äºè§£å†³è¿™ä¸ªé—®é¢˜ ğŸ˜¤
è¯ä¹¦ç”Ÿæˆ ç§é’¥ openssl ecparam -genkey -name secp384r1 -out server.key è‡ªç­¾å…¬é’¥ openssl req -new -x509 -sha256 -key server.key -out server.pem -days 3650 å¡«å†™ä¿¡æ¯ Country Name (2 letter code) []: State or Province Name (full name) []: Locality Name (eg, city) []: Organization Name (eg, company) []: Organizational Unit Name (eg, section) []: Common Name (eg, fully qualified host name) []:go-grpc-example Email Address []: ç”Ÿæˆå®Œæ¯• ç”Ÿæˆè¯ä¹¦ç»“æŸåï¼Œå°†è¯ä¹¦ç›¸å…³æ–‡ä»¶æ”¾åˆ° conf/ ä¸‹ï¼Œç›®å½•ç»“æ„ï¼š</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½ä¸‰ã€gRPC Streaming, Client and Server</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-09-24-stream-client-server/</link>
      <pubDate>Mon, 24 Sep 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-09-24-stream-client-server/</guid>
      <description>å‰è¨€ æœ¬ç« èŠ‚å°†ä»‹ç» gRPC çš„æµå¼ï¼Œåˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š
 Server-side streaming RPCï¼šæœåŠ¡å™¨ç«¯æµå¼ RPC Client-side streaming RPCï¼šå®¢æˆ·ç«¯æµå¼ RPC Bidirectional streaming RPCï¼šåŒå‘æµå¼ RPC  æµ ä»»ä½•æŠ€æœ¯ï¼Œå› ä¸ºæœ‰ç—›ç‚¹ï¼Œæ‰€ä»¥æ‰æœ‰äº†å­˜åœ¨çš„å¿…è¦æ€§ã€‚å¦‚æœæ‚¨æƒ³è¦äº†è§£ gRPC çš„æµå¼è°ƒç”¨ï¼Œè¯·ç»§ç»­
å›¾ gRPC Streaming æ˜¯åŸºäº HTTP/2 çš„ï¼Œåç»­ç« èŠ‚å†è¿›è¡Œè¯¦ç»†è®²è§£
ä¸ºä»€ä¹ˆä¸ç”¨ Simple RPC æµå¼ä¸ºä»€ä¹ˆè¦å­˜åœ¨å‘¢ï¼Œæ˜¯ Simple RPC æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿé€šè¿‡æ¨¡æ‹Ÿä¸šåŠ¡åœºæ™¯ï¼Œå¯å¾—çŸ¥åœ¨ä½¿ç”¨ Simple RPC æ—¶ï¼Œæœ‰å¦‚ä¸‹é—®é¢˜ï¼š
 æ•°æ®åŒ…è¿‡å¤§é€ æˆçš„ç¬æ—¶å‹åŠ› æ¥æ”¶æ•°æ®åŒ…æ—¶ï¼Œéœ€è¦æ‰€æœ‰æ•°æ®åŒ…éƒ½æ¥å—æˆåŠŸä¸”æ­£ç¡®åï¼Œæ‰èƒ½å¤Ÿå›è°ƒå“åº”ï¼Œè¿›è¡Œä¸šåŠ¡å¤„ç†ï¼ˆæ— æ³•å®¢æˆ·ç«¯è¾¹å‘é€ï¼ŒæœåŠ¡ç«¯è¾¹å¤„ç†ï¼‰  ä¸ºä»€ä¹ˆç”¨ Streaming RPC  å¤§è§„æ¨¡æ•°æ®åŒ… å®æ—¶åœºæ™¯  æ¨¡æ‹Ÿåœºæ™¯ æ¯å¤©æ—©ä¸Š 6 ç‚¹ï¼Œéƒ½æœ‰ä¸€æ‰¹ç™¾ä¸‡çº§åˆ«çš„æ•°æ®é›†è¦åŒä» A åŒæ­¥åˆ° Bï¼Œåœ¨åŒæ­¥çš„æ—¶å€™ï¼Œä¼šåšä¸€ç³»åˆ—æ“ä½œï¼ˆå½’æ¡£ã€æ•°æ®åˆ†æã€ç”»åƒã€æ—¥å¿—ç­‰ï¼‰ã€‚è¿™ä¸€æ¬¡æ€§æ¶‰åŠçš„æ•°æ®é‡ç¡®å®å¤§
åœ¨åŒæ­¥å®Œæˆåï¼Œä¹Ÿæœ‰äººé©¬ä¸Šä¼šå»æŸ¥é˜…æ•°æ®ï¼Œä¸ºäº†æ–°çš„ä¸€å¤©ç­¹å¤‡ã€‚ä¹Ÿç¬¦åˆå®æ—¶æ€§ã€‚
ä¸¤è€…ç›¸è¾ƒä¸‹ï¼Œè¿™ä¸ªåœºæ™¯ä¸‹æ›´é€‚åˆä½¿ç”¨ Streaming RPC
gRPC åœ¨è®²è§£å…·ä½“çš„ gRPC æµå¼ä»£ç æ—¶ï¼Œä¼šç€é‡åœ¨ç¬¬ä¸€èŠ‚è®²è§£ï¼Œå› ä¸ºä¸‰ç§æ¨¡å¼å…¶å®æ˜¯ä¸åŒçš„ç»„åˆã€‚å¸Œæœ›ä½ èƒ½å¤Ÿæ³¨é‡ç†è§£ï¼Œä¸¾ä¸€åä¸‰ï¼Œå…¶å®éƒ½æ˜¯ä¸€æ ·çš„çŸ¥è¯†ç‚¹ ğŸ‘
ç›®å½•ç»“æ„ $ tree go-grpc-example go-grpc-example â”œâ”€â”€ client â”‚Â â”œâ”€â”€ simple_client â”‚Â â”‚Â â””â”€â”€ client.</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½äºŒã€gRPC Client and Server</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-09-23-client-and-server/</link>
      <pubDate>Sun, 23 Sep 2018 12:30:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-09-23-client-and-server/</guid>
      <description>å‰è¨€ æœ¬ç« èŠ‚å°†ä½¿ç”¨ Go æ¥ç¼–å†™ gRPC Server å’Œ Clientï¼Œè®©å…¶äº’ç›¸é€šè®¯ã€‚åœ¨æ­¤ä¹‹ä¸Šä¼šä½¿ç”¨åˆ°å¦‚ä¸‹åº“ï¼š
 google.golang.org/grpc github.com/golang/protobuf/protoc-gen-go  å®‰è£… gRPC go get -u google.golang.org/grpc Protocol Buffers v3 wget https://github.com/google/protobuf/releases/download/v3.5.1/protobuf-all-3.5.1.zip unzip protobuf-all-3.5.1.zip cd protobuf-3.5.1/ ./configure make make install æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ
protoc --version è‹¥å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼Œæ‰§è¡Œ ldconfig å‘½åå°±èƒ½è§£å†³è¿™é—®é¢˜
protoc: error while loading shared libraries: libprotobuf.so.15: cannot open shared object file: No such file or directory Protoc Plugin go get -u github.com/golang/protobuf/protoc-gen-go å®‰è£…ç¯å¢ƒè‹¥æœ‰é—®é¢˜ï¼Œå¯å‚è€ƒæˆ‘å…ˆå‰çš„æ–‡ç«  ã€Šä»‹ç»ä¸ç¯å¢ƒå®‰è£…ã€‹ å†…æœ‰è¯¦ç»†ä»‹ç»ï¼Œä¸å†èµ˜è¿°
gRPC æœ¬å°èŠ‚å¼€å§‹æ­£å¼ç¼–å†™ gRPC ç›¸å…³çš„ç¨‹åºï¼Œä¸€èµ·ä¸Šè½¦å§ ğŸ˜„
å›¾ç¤º ç›®å½•ç»“æ„ $ tree go-grpc-example go-grpc-example â”œâ”€â”€ client â”œâ”€â”€ proto â”‚Â â””â”€â”€ search.</description>
    </item>
    
    <item>
      <title>ã€Œè¿è½½ä¸€ã€gRPCåŠç›¸å…³ä»‹ç»</title>
      <link>https://blog.k1s.club/posts.bak/go/grpc/2018-09-22-install/</link>
      <pubDate>Sat, 22 Sep 2018 12:00:00 +0000</pubDate>
      
      <guid>https://blog.k1s.club/posts.bak/go/grpc/2018-09-22-install/</guid>
      <description>é¡¹ç›®åœ°å€ï¼šhttps://github.com/EDDYCJY/go-grpc-example
ä½œä¸ºå¼€ç¯‡ç« ï¼Œå°†ä¼šä»‹ç» gRPC ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ã€‚ç®€å•æ¥è®² gRPC æ˜¯ä¸€ä¸ª åŸºäº HTTP/2 åè®®è®¾è®¡çš„ RPC æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨äº† Protobuf ä½œä¸º IDL
ä½ æ˜¯å¦æœ‰è¿‡ç–‘æƒ‘ï¼Œå®ƒä»¬éƒ½æ˜¯äº›ä»€ä¹ˆï¼Ÿæœ¬æ–‡å°†ä¼šä»‹ç»ä¸€äº›å¸¸ç”¨çš„çŸ¥è¯†å’Œæ¦‚å¿µï¼Œæ›´è¯¦ç»†çš„ä¼šç»™å‡ºæ‰‹å†Œåœ°å€å»æ·±å…¥
ä¸€ã€RPC ä»€ä¹ˆæ˜¯ RPC RPC ä»£æŒ‡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Callï¼‰ï¼Œå®ƒçš„è°ƒç”¨åŒ…å«äº†ä¼ è¾“åè®®å’Œç¼–ç ï¼ˆå¯¹è±¡åºåˆ—å·ï¼‰åè®®ç­‰ç­‰ã€‚å…è®¸è¿è¡Œäºä¸€å°è®¡ç®—æœºçš„ç¨‹åºè°ƒç”¨å¦ä¸€å°è®¡ç®—æœºçš„å­ç¨‹åºï¼Œè€Œå¼€å‘äººå‘˜æ— éœ€é¢å¤–åœ°ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹
å®é™…åœºæ™¯ï¼š æœ‰ä¸¤å°æœåŠ¡å™¨ï¼Œåˆ†åˆ«æ˜¯ Aã€Bã€‚åœ¨ A ä¸Šçš„åº”ç”¨ C æƒ³è¦è°ƒç”¨ B æœåŠ¡å™¨ä¸Šçš„åº”ç”¨ Dï¼Œå®ƒä»¬å¯ä»¥ç›´æ¥æœ¬åœ°è°ƒç”¨å—ï¼Ÿ
ç­”æ¡ˆæ˜¯ä¸èƒ½çš„ï¼Œä½†èµ° RPC çš„è¯ï¼Œååˆ†æ–¹ä¾¿ã€‚å› æ­¤å¸¸æœ‰äººç§°ä½¿ç”¨ RPCï¼Œå°±è·Ÿæœ¬åœ°è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¸€æ ·ç®€å•
RPC æ¡†æ¶ æˆ‘è®¤ä¸ºï¼Œä¸€ä¸ªå®Œæ•´çš„ RPC æ¡†æ¶ï¼Œåº”åŒ…å«è´Ÿè½½å‡è¡¡ã€æœåŠ¡æ³¨å†Œå’Œå‘ç°ã€æœåŠ¡æ²»ç†ç­‰åŠŸèƒ½ï¼Œå¹¶å…·æœ‰å¯æ‹“å±•æ€§ä¾¿äºæµé‡ç›‘æ§ç³»ç»Ÿç­‰æ¥å…¥
é‚£ä¹ˆå®ƒæ‰ç®—å®Œæ•´çš„ï¼Œå½“ç„¶äº†ã€‚æœ‰äº›è¾ƒå•ä¸€çš„ RPC æ¡†æ¶ï¼Œé€šè¿‡ç»„åˆå¤šç»„ä»¶ä¹Ÿèƒ½è¾¾åˆ°è¿™ä¸ªæ ‡å‡†
ä½ è®¤ä¸ºå‘¢ï¼Ÿ
å¸¸è§ RPC æ¡†æ¶  gRPC Thrift Rpcx Dubbo  æ¯”è¾ƒä¸€ä¸‹    \ è·¨è¯­è¨€ å¤š IDL æœåŠ¡æ²»ç† æ³¨å†Œä¸­å¿ƒ æœåŠ¡ç®¡ç†     gRPC âˆš Ã— Ã— Ã— Ã—   Thrift âˆš Ã— Ã— Ã— Ã—   Rpcx Ã— âˆš âˆš âˆš âˆš   Dubbo Ã— âˆš âˆš âˆš âˆš    ä¸ºä»€ä¹ˆè¦ RPC ç®€å•ã€é€šç”¨ã€å®‰å…¨ã€æ•ˆç‡</description>
    </item>
    
  </channel>
</rss>
